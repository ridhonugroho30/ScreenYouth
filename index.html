<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jiwa Muda - Screening Kesehatan Mental Remaja</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="navbar">
        <div class="container">
            <div class="logo">Jiwa Muda</div>
            <nav>
                <ul>
                    <li><a href="#home">Beranda</a></li>
                    <li><a href="#about">Tentang Kami</a></li>
                    <li><a href="#screening">Mulai Screening</a></li>
                    <li><a href="resources.html">Sumber Daya</a></li>
                    <li><a href="#contact">Kontak</a></li>
                </ul>
            </nav>
            <div class="hamburger" id="hamburger-menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <div class="mobile-nav-overlay" id="mobile-nav-overlay">
        <div class="close-btn" id="close-mobile-nav">&times;</div>
        <ul>
            <li><a href="#home">Beranda</a></li>
            <li><a href="#about">Tentang Kami</a></li>
            <li><a href="#screening">Mulai Screening</a></li>
            <li><a href="resources.html">Sumber Daya</a></li>
            <li><a href="#contact">Kontak</a></li>
        </ul>
    </div>

    <section class="hero-section animated-section" id="home">
        <div class="container hero-content">
            <div class="text-content">
                <h1>Jiwa Muda: Cek Kesehatan Mentalmu Sekarang!</h1>
                <p>Platform interaktif untuk membantu remaja memahami dan menjaga kesehatan mental mereka. Mulai perjalananmu menuju pikiran yang lebih jernih dan hati yang lebih bahagia.</p>
                <button class="cta-button" onclick="scrollToSection('screening')">Mulai Screening Sekarang <i class="fas fa-arrow-right"></i></button>
            </div>
            <div class="image-content">
                <img src="images/hero-bg.svg" alt="Ilustrasi Kesehatan Mental Remaja">
            </div>
        </div>
        <div class="scroll-down-indicator">
            <span>Scroll ke bawah</span>
            <div class="arrow-down"></div>
        </div>
    </section>

    <section class="about-section animated-section" id="about">
        <div class="container">
            <h2>Tentang Jiwa Muda</h2>
            <p class="section-subtitle">Kami percaya setiap remaja berhak mendapatkan dukungan untuk kesehatan mentalnya.</p>
            <div class="about-grid">
                <div class="about-item reveal-on-scroll">
                    <i class="fas fa-brain"></i>
                    <h3>Pahami Dirimu</h3>
                    <p>Alat skrining yang dirancang untuk membantu kamu mengenali perasaan dan pikiranmu.</p>
                </div>
                <div class="about-item reveal-on-scroll">
                    <i class="fas fa-heartbeat"></i>
                    <h3>Dukungan Awal</h3>
                    <p>Dapatkan saran dan sumber daya awal berdasarkan hasil skriningmu.</p>
                </div>
                <div class="about-item reveal-on-scroll">
                    <i class="fas fa-users"></i>
                    <h3>Komunitas Positif</h3>
                    <p>Temukan artikel dan cerita inspiratif dari remaja lain.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="screening-section animated-section" id="screening">
        <div class="container">
            <h2>Mulai Screening Mandiri</h2>
            <p class="section-subtitle">Jawab beberapa pertanyaan untuk mendapatkan gambaran awal kondisi mentalmu.</p>

            <div class="screening-steps">
                <div class="step-indicator" id="step-1-indicator" data-step="1" onclick="showQuestionSet(1)">
                    <span class="step-number">1</span>
                    <span class="step-title">Perasaan Umum</span>
                </div>
                <div class="step-indicator" id="step-2-indicator" data-step="2" onclick="showQuestionSet(2)">
                    <span class="step-number">2</span>
                    <span class="step-title">Pola Tidur & Energi</span>
                </div>
                <div class="step-indicator" id="step-3-indicator" data-step="3" onclick="showQuestionSet(3)">
                    <span class="step-number">3</span>
                    <span class="step-title">Hubungan Sosial</span>
                </div>
                <div class="step-indicator" id="step-4-indicator" data-step="4" onclick="showQuestionSet(4)">
                    <span class="step-number">4</span>
                    <span class="step-title">Fokus & Motivasi</span>
                </div>
                <div class="step-indicator" id="step-5-indicator" data-step="5" onclick="showQuestionSet(5)">
                    <span class="step-number">5</span>
                    <span class="step-title">Hasil Skrining</span>
                </div>
            </div>

            <div class="screening-quiz">
                <div class="question-set active" id="qs-1">
                    <h3>Bagaimana perasaanmu sebagian besar waktu selama 2 minggu terakhir?</h3>
                    <label><input type="radio" name="q1" value="0"> Sangat bahagia/semangat</label>
                    <label><input type="radio" name="q1" value="1"> Cukup baik</label>
                    <label><input type="radio" name="q1" value="2"> Agak sedih/murung</label>
                    <label><input type="radio" name="q1" value="3"> Sangat sedih/putus asa</label>
                    <button class="next-prev-btn" onclick="nextQuestionSet()">Berikutnya <i class="fas fa-chevron-right"></i></button>
                </div>

                <div class="question-set" id="qs-2">
                    <h3>Bagaimana pola tidurmu dan tingkat energimu?</h3>
                    <label><input type="radio" name="q2" value="0"> Tidur nyenyak & energik</label>
                    <label><input type="radio" name="q2" value="1"> Cukup tidur, kadang lelah</label>
                    <label><input type="radio" name="q2" value="2"> Sulit tidur/terlalu banyak tidur, sering lelah</label>
                    <label><input type="radio" name="q2" value="3"> Hampir tidak bisa tidur/tidur terus, sangat lelah</label>
                    <div class="nav-buttons">
                        <button class="next-prev-btn prev" onclick="prevQuestionSet()"><i class="fas fa-chevron-left"></i> Sebelumnya</button>
                        <button class="next-prev-btn" onclick="nextQuestionSet()">Berikutnya <i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>

                <div class="question-set" id="qs-3">
                    <h3>Bagaimana kamu berinteraksi dengan teman dan keluarga?</h3>
                    <label><input type="radio" name="q3" value="0"> Sangat aktif & menikmati</label>
                    <label><input type="radio" name="q3" value="1"> Cukup berinteraksi</label>
                    <label><input type="radio" name="q3" value="2"> Lebih suka menyendiri</label>
                    <label><input type="radio" name="q3" value="3"> Menghindari semua interaksi</label>
                    <div class="nav-buttons">
                        <button class="next-prev-btn prev" onclick="prevQuestionSet()"><i class="fas fa-chevron-left"></i> Sebelumnya</button>
                        <button class="next-prev-btn" onclick="nextQuestionSet()">Berikutnya <i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>

                <div class="question-set" id="qs-4">
                    <h3>Bagaimana tingkat fokus dan motivasimu belajar/melakukan hobi?</h3>
                    <label><input type="radio" name="q4" value="0"> Sangat fokus & termotivasi</label>
                    <label><input type="radio" name="q4" value="1"> Cukup fokus, motivasi bervariasi</label>
                    <label><input type="radio" name="q4" value="2"> Sulit fokus, kehilangan minat pada banyak hal</label>
                    <label><input type="radio" name="q4" value="3"> Hampir tidak bisa fokus, tidak ada motivasi sama sekali</label>
                    <div class="nav-buttons">
                        <button class="next-prev-btn prev" onclick="prevQuestionSet()"><i class="fas fa-chevron-left"></i> Sebelumnya</button>
                        <button class="next-prev-btn" onclick="nextQuestionSet()">Lihat Hasil <i class="fas fa-clipboard-check"></i></button>
                    </div>
                </div>

                <div class="question-set" id="qs-5">
                    <h3>Hasil Skrining Awal Anda</h3>
                    <div class="screening-result">
                        <p id="result-text"></p>
                        <div class="intervention-suggestions">
                            <h4>Langkah Selanjutnya & Edukasi Rekomendasi:</h4>
                            <ul id="suggested-interventions">
                                </ul>
                        </div>
                        <div class="result-action">
                            <a href="resources.html" class="cta-button primary">Jelajahi Sumber Daya Lainnya</a>
                            <button class="cta-button secondary" onclick="restartScreening()">Ulangi Skrining</button>
                        </div>
                    </div>
                    <div class="nav-buttons">
                        <button class="next-prev-btn prev" onclick="prevQuestionSet()"><i class="fas fa-chevron-left"></i> Sebelumnya</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="contact-section animated-section" id="contact">
        <div class="container">
            <h2>Kontak Kami</h2>
            <p class="section-subtitle">Punya pertanyaan atau ingin tahu lebih banyak?</p>
            <form class="contact-form">
                <input type="text" placeholder="Nama Lengkap" required>
                <input type="email" placeholder="Email Anda" required>
                <textarea placeholder="Pesan Anda" rows="6" required></textarea>
                <button type="submit" class="cta-button">Kirim Pesan</button>
            </form>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 Jiwa Muda. Semua Hak Dilindungi.</p>
        </div>
    </footer>

    <script>
        // Smooth scroll untuk navigasi internal di index.html
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                // Hanya lakukan smooth scroll jika target ada di halaman ini
                if (document.querySelector(targetId)) {
                    document.querySelector(targetId).scrollIntoView({
                        behavior: 'smooth'
                    });
                    // Close mobile nav if open
                    document.getElementById('mobile-nav-overlay').classList.remove('open');
                } else {
                    // Jika tidak, biarkan browser menangani link eksternal (contohnya resources.html)
                    window.location.href = targetId;
                }
            });
        });

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // Mobile Nav Toggle
        document.getElementById('hamburger-menu').addEventListener('click', function() {
            document.getElementById('mobile-nav-overlay').classList.add('open');
        });

        document.getElementById('close-mobile-nav').addEventListener('click', function() {
            document.getElementById('mobile-nav-overlay').classList.remove('open');
        });

        // Screening Quiz Logic (tidak ada perubahan besar di sini)
        let currentQuestionSet = 1;
        const totalQuestionSets = 5;

        function showQuestionSet(setNumber) {
            document.querySelectorAll('.question-set').forEach(qs => {
                qs.classList.remove('active', 'transition-left', 'transition-right');
            });
            document.getElementById(`qs-${setNumber}`).classList.add('active');

            document.querySelectorAll('.step-indicator').forEach(indicator => {
                indicator.classList.remove('active-step', 'completed-step');
            });

            for (let i = 1; i <= setNumber; i++) {
                document.getElementById(`step-${i}-indicator`).classList.add('completed-step');
            }
            document.getElementById(`step-${setNumber}-indicator`).classList.add('active-step');

            currentQuestionSet = setNumber;

            if (setNumber === totalQuestionSets) {
                calculateResult();
            }
        }

        function nextQuestionSet() {
            const currentQsElement = document.getElementById(`qs-${currentQuestionSet}`);
            const selectedOption = currentQsElement.querySelector(`input[name="q${currentQuestionSet}"]:checked`);

            if (currentQuestionSet < totalQuestionSets -1 && !selectedOption) {
                alert("Mohon pilih salah satu jawaban sebelum melanjutkan.");
                return;
            }

            if (currentQuestionSet < totalQuestionSets) {
                currentQsElement.classList.add('transition-left');
                setTimeout(() => {
                    currentQsElement.classList.remove('active', 'transition-left');
                    currentQuestionSet++;
                    document.getElementById(`qs-${currentQuestionSet}`).classList.add('active', 'transition-right-enter');
                    setTimeout(() => {
                        document.getElementById(`qs-${currentQuestionSet}`).classList.remove('transition-right-enter');
                    }, 300);
                    updateStepIndicators();
                }, 300);
            }
        }

        function prevQuestionSet() {
            if (currentQuestionSet > 1) {
                const currentQsElement = document.getElementById(`qs-${currentQuestionSet}`);
                currentQsElement.classList.add('transition-right');
                setTimeout(() => {
                    currentQsElement.classList.remove('active', 'transition-right');
                    currentQuestionSet--;
                    document.getElementById(`qs-${currentQuestionSet}`).classList.add('active', 'transition-left-enter');
                    setTimeout(() => {
                        document.getElementById(`qs-${currentQuestionSet}`).classList.remove('transition-left-enter');
                    }, 300);
                    updateStepIndicators();
                }, 300);
            }
        }

        function updateStepIndicators() {
             document.querySelectorAll('.step-indicator').forEach(indicator => {
                indicator.classList.remove('active-step', 'completed-step');
            });

            for (let i = 1; i <= currentQuestionSet; i++) {
                document.getElementById(`step-${i}-indicator`).classList.add('completed-step');
            }
            document.getElementById(`step-${currentQuestionSet}-indicator`).classList.add('active-step');

            if (currentQuestionSet === totalQuestionSets) {
                calculateResult();
            }
        }

        function calculateResult() {
            let totalScore = 0;
            for (let i = 1; i <= 4; i++) {
                const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                if (selectedOption) {
                    totalScore += parseInt(selectedOption.value);
                }
            }

            let resultText = "";
            let interventions = [];

            if (totalScore <= 3) {
                resultText = "Selamat! Dari hasil skrining awal, kondisi mentalmu terlihat cukup stabil. Tetap jaga pola hidup sehat dan terus positif!";
                interventions = [
                    { type: 'edukasi', text: 'Baca artikel tentang "Menjaga Kesehatan Mental di Usia Remaja".' },
                    { type: 'pola-hidup', text: 'Lanjutkan gaya hidup sehatmu: tidur cukup, gizi seimbang, dan olahraga teratur.' },
                    { type: 'relaksasi', text: 'Coba teknik relaksasi sederhana untuk mengelola stres sehari-hari.' },
                ];
            } else if (totalScore <= 7) {
                resultText = "Kondisi mentalmu mungkin sedang menghadapi sedikit tantangan. Ini normal, dan ada banyak cara untuk mengatasinya. Jelajahi sumber daya kami untuk tips dan dukungan.";
                interventions = [
                    { type: 'edukasi', text: 'Pahami lebih dalam tentang "Tanda-tanda Stres pada Remaja" dan cara mengelolanya.' },
                    { type: 'dukungan-sosial', text: 'Pertimbangkan untuk lebih sering berbicara dengan teman atau keluarga yang kamu percaya.' },
                    { type: 'relaksasi', text: 'Latih teknik pernapasan atau meditasi untuk menenangkan pikiran.' },
                    { type: 'pola-hidup', text: 'Pastikan kamu cukup istirahat dan memiliki aktivitas fisik yang teratur.' }
                ];
            } else if (totalScore <= 10) {
                resultText = "Hasil skrining menunjukkan beberapa indikator yang perlu perhatian lebih serius. Kami sangat menyarankan untuk berbicara dengan orang dewasa yang kamu percaya atau mencari bantuan profesional.";
                interventions = [
                    { type: 'konseling', text: 'Sangat disarankan untuk mencari bantuan profesional dari konselor atau psikolog.' },
                    { type: 'dukungan-sosial', text: 'Berbagi perasaanmu dengan orang tua, guru, atau wali yang kamu percaya.' },
                    { type: 'edukasi', text: 'Pelajari tentang "Mengatasi Kecemasan dan Depresi" untuk pemahaman yang lebih baik.' },
                    { type: 'relaksasi', text: 'Lakukan latihan relaksasi secara rutin untuk menenangkan pikiran.' }
                ];
            } else {
                resultText = "Ada indikasi bahwa kamu mungkin sedang mengalami tekanan mental yang signifikan. Jangan ragu untuk segera mencari bantuan profesional dari psikolog atau konselor. Kamu tidak sendiri.";
                interventions = [
                    { type: 'konseling', text: 'Prioritaskan untuk segera berkonsultasi dengan psikolog atau psikiater. Ini adalah langkah paling penting.' },
                    { type: 'dukungan-sosial', text: 'Cari dukungan dari orang terdekat. Jangan ragu untuk meminta bantuan.' },
                    { type: 'edukasi', text: 'Pahami "Pentingnya Bantuan Profesional untuk Kesehatan Mental" dan stigma yang keliru.' }
                ];
            }

            document.getElementById('result-text').textContent = resultText;

            const suggestedInterventionsList = document.getElementById('suggested-interventions');
            suggestedInterventionsList.innerHTML = '';
            interventions.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item.text;
                li.onclick = () => {
                    // Redirect to resources.html with a hash for the specific resource
                    window.location.href = `resources.html#${item.type}`;
                };
                suggestedInterventionsList.appendChild(li);
            });
        }

        function restartScreening() {
            document.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
                radio.checked = false;
            });
            showQuestionSet(1);
            document.getElementById('suggested-interventions').innerHTML = '';
        }

        // Initial call to set up the first question set
        showQuestionSet(1);

        // --- Hapus logika resourceDetails dan overlay dari index.html ---
        // Karena ini akan dikelola di resources.html
        // Resource Details Logic (Dihapus dari sini)
        // const resourceDetails = {...};
        // document.querySelectorAll('.resource-item').forEach(...);
        // function openResourceDetail(...);
        // function showResourceDetailFromIntervention(...); // ini dimodifikasi di atas
        // function closeResourceDetail(...);

        // Scroll Reveal Animation (Sederhana)
        const animatedSections = document.querySelectorAll('.animated-section');
        const revealElements = document.querySelectorAll('.reveal-on-scroll');

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const sectionObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    // observer.unobserve(entry.target);
                } else {
                    // entry.target.classList.remove('is-visible');
                }
            });
        }, observerOptions);

        const revealObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('revealed');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        animatedSections.forEach(section => {
            sectionObserver.observe(section);
        });

        revealElements.forEach(element => {
            revealObserver.observe(element);
        });

    </script>
</body>
</html>
